
SQLite3 で、XP3アーカイブ内に入れたデータベースファイルから読み出すための VFS です。
SQLite 3.5.4 で動くことを確認しています。

なお書き込みについては確認していません。
XP3アーカイブ内に格納されている時は、書き込みは失敗すると思います。
そのため、書き込みが発生するクエリーは使用しないほうが良いです。


ライセンス:
吉里吉里と同じと言うことで。


使い方:
まずデータベースオープン前に以下のようにして、VFS を登録します。
sqlite3_vfs_register( getXp3Vfs(), 0 )

次にオープン時に以下のようにして、使用する VFS を指定します。
sqlite3_open_v2( "db_file_name", &db, SQLITE_OPEN_READONLY, "xp3" )

以後は普通に使えます。
ただ、データベースは UTF-8 として扱われます。
必要に応じて文字コードは変換する必要があります。

